# .zshrc is sourced in interactive shells. 
# It should contain commands to set up aliases, functions, options, key bindings, etc.

echo "zshrc"


if [[ -r "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh" ]]; then
  source "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh"
fi

if [[ -n "${GITHUB_CODESPACE_TOKEN}" ]]; then
  typeset -g POWERLEVEL9K_INSTANT_PROMPT=quiet
fi

# source $HOME/.profile

# Path to your oh-my-zsh installation.
export ZSH=$HOME/.oh-my-zsh

ZSH_THEME="powerlevel10k/powerlevel10k"

# Which plugins would you like to load? (plugins can be found in ~/.dotfiles/oh-my-zsh/plugins/*)
plugins=(
  colorize
  compleat
  cp
  dirpersist
  fzf
  git
  gulp
  history
  osx
  olets/zsh-abbr
  z
  zmv
  zsh-autosuggestions
  zsh-syntax-highlighting
)

# Load theme Powerlevel10K
if test "${ZSH_THEME#*powerlevel10k}" != "$ZSH_THEME"; then
    [ -f {{ .chezmoi.homeDir }}/.config/p10k/.p10k.zsh ] && \. {{ .chezmoi.homeDir }}/.config/p10k/.p10k.zsh
fi

source $ZSH/oh-my-zsh.sh

# Define key bindings.
# z4h bindkey z4h-cd-back    Shift+Left   # cd into the previous directory
# z4h bindkey z4h-cd-forward Shift+Right  # cd into the next directory
# z4h bindkey z4h-cd-up      Shift+Up     # cd into the parent directory
# z4h bindkey z4h-cd-down    Shift+Down   # cd into a child directory

# Autoload functions.
autoload -Uz zmv

# Add flags to existing aliases.
alias ls="${aliases[ls]:-ls} -A"

# Set shell options: http://zsh.sourceforge.net/Doc/Release/Options.html.
# Awesome cd movements from zshkit
setopt autocd autopushd pushdminus pushdsilent pushdtohome cdablevars
DIRSTACKSIZE=5

# Allow [ or ] whereever you want
ulimit -n 8192
unsetopt nomatch
setopt extendedglob  # enable extended globbing
setopt glob_dots     # no special treatment for file names with a leading dot
setopt no_auto_menu  # require an extra TAB press to open the completion menu

# Zoxide : prompt hook mode
if command -v zoxide &> /dev/null; then
  eval $(zoxide init zsh --hook prompt)
fi

# use brew installed asdf
. $(brew --prefix asdf)/libexec/asdf.sh
# . $(brew --prefix asdf)/etc/bash_completion.d/asdf.bash

# source $HOME/.zshrc
